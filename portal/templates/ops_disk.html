<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">

  <title>Disk usage report</title>

  <link rel="stylesheet" href="https://cdn.tailwindcss.com">

  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    pre { background:#0b1020; color:#e9f0ff; padding:12px; border-radius:10px; overflow:auto; }
    table { width:100%; border-collapse:collapse }
    th,td { border:1px solid #eee; padding:6px 8px; text-align:left }
    th { background:#f6f6f6 }
    .wrap { max-width: 960px; margin: 24px auto; padding: 0 16px; }
  </style>
</head>
<body class="bg-slate-950 text-slate-100">
  <div class="wrap">
    <h1 class="text-2xl font-bold mb-2">üíæ Disk usage</h1>
    <div class="text-slate-400 mb-4">
      –û—Ç—á—ë—Ç: <span class="font-mono">{{ ts }}</span>
    </div>

    {% if headers and rows %}
    <h2 class="text-lg font-semibold mb-2">df -h (—Ç–∞–±–ª–∏—Ü–∞)</h2>
    <div class="overflow-auto rounded-xl ring-1 ring-white/10 bg-slate-900/60">
      <table class="text-sm">
        <thead>
          <tr>
            {% for h in headers %}
              <th class="text-slate-900">{{ h }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for r in rows %}
            <tr>
              {% for c in r %}
                <td class="text-slate-200">{{ c }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
      <div class="text-slate-400">–ù–µ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ <code>df -h</code>.</div>
    {% endif %}

    <div class="grid md:grid-cols-2 gap-4 mt-6">
      <div class="rounded-xl ring-1 ring-white/10 bg-slate-900/60 p-3">
        <h3 class="font-semibold mb-2">df -h (raw)</h3>
        <pre>{{ raw_df|e }}</pre>
      </div>

      {% if docker_info %}
      <div class="rounded-xl ring-1 ring-white/10 bg-slate-900/60 p-3">
        <h3 class="font-semibold mb-2">docker system df</h3>
        <pre>{{ docker_info|e }}</pre>
      </div>
      {% endif %}
    </div>
  </div>
</body>
</html>